import os

def search_string(path, str):
    f = os.walk(path)
    for root, dirs, files in f:
        for file in files:
            # j = open(file.join(path1), 'r', encoding='utf-8-sig')
            j = open(path + file, 'r', encoding='utf-8-sig')
            file_contents = j.readlines()
            for content in file_contents:  # 逐行读取
                if str in content:  # 检查包含pH的那行数据
                    print(file)  # 打印，看效果
                    
path = r"C:\\code"
str = 'str'
search_string(path, str)
